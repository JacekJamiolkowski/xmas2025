<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>ÅšwiÄ…teczne Å¼yczenia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --card-bg: rgba(255, 255, 255, 0.9);
      --accent: #e63946;
      --accent-soft: #f1faee;
      --bg-top: #041424;
      --bg-bottom: #0b2a3b;
      --text-main: #102a43;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: var(--text-main);
      background: radial-gradient(ellipse at top, #16324f 0%, var(--bg-top) 40%)
                  radial-gradient(circle at bottom, #1b3a61 0%, var(--bg-bottom) 60%);
      background: radial-gradient(ellipse at top, #16324f 0%, var(--bg-top) 40%) fixed,
                  radial-gradient(circle at bottom, #1b3a61 0%, var(--bg-bottom) 60%) fixed;
      background-blend-mode: screen;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      overflow: hidden;
    }

    .card {
      position: relative;
      max-width: 1000px;
      width: 100%;
      background: var(--card-bg);
      border-radius: 20px;
      padding: 24px 20px 20px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(12px);
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #ffd166, #ef476f, #118ab2);
      opacity: 0.12;
      mix-blend-mode: soft-light;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap: 16px;
      align-items: center;
    }

    @media (max-width: 640px) {
      .card-inner {
        grid-template-columns: 1fr;
      }
    }

		.art {
		  position: relative;
		}
		
		.dog {
		  position: absolute;
		
		  /* POZYCJA psa â€“ dopasuj */
		  left: 300px;
		  bottom: 20px;
		
		  /* rozmiar jednej klatki */
		  width: 89px;
		  height: 70px;
		
		  /* powiÄ™kszenie */
		  transform: scale(1);
		  transform-origin: left bottom;
		
		  /* spritesheet */
		  background-image: url("lab_anim2.png");
		  background-repeat: no-repeat;
		
		  /* 42 klatki POZIOMO â†’ szerokoÅ›Ä‡ = 42 Ã— 89 */
		  background-size: 3738px 70px; /* 42 * 89 = 3738 */
		
		  pointer-events: none;
		}

		.card-image {
		  width: min(500px, 100%);
		  height: auto;
		  display: block;
		  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.35));
		  border-radius: 12px; /* opcjonalnie */
		}

    .content h1 {
      font-size: clamp(1.8rem, 2.4vw + 1.4rem, 2.4rem);
      margin-bottom: 0.5rem;
      color: var(--accent);
      letter-spacing: 0.04em;
    }

    .content h2 {
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.24em;
      color: #6c757d;
      margin-bottom: 0.9rem;
    }

    .content p {
      line-height: 1.5;
      margin-bottom: 0.6rem;
      font-size: 0.98rem;
    }

    .content p.highlight {
      font-weight: 600;
      color: #1d3557;
    }
    
    .footer-note {
      margin-top: 10px;
      font-size: 0.8rem;
      color: #6c757d;
      font-size: 0.98rem;
      margin-bottom: 0.6rem;
    }

    .footer-note span {
      color: var(--accent);
      font-weight: 600;
    }

		.accent {
  		color: var(--accent);
  		font-weight: 700; /* opcjonalnie */
		}

    /* Åšnieg (elementy DOM + animacja CSS) */
    .snowflake {
      position: fixed;
      top: -10vh;
      color: #ffffff;
      font-size: 0.8rem;
      opacity: 0.8;
      pointer-events: none;
      z-index: 0;
      text-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
      will-change: transform;
      animation-name: snow-fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes snow-fall {
      0% {
        transform: translate3d(0, -100vh, 0);
      }
      50% {
        transform: translate3d(25px, 0, 0);
      }
      100% {
        transform: translate3d(-25px, 100vh, 0);
      }
    }
    
    .hau {
		  position: absolute;
		  left: 0;
		  top: 0;
		  transform: translate(-50%, -50%);
		  color: #fff;
		  font-weight: 800;
		  font-size: 16px;
		  letter-spacing: 0.02em;
		  text-shadow: 0 2px 6px rgba(0,0,0,0.55);
		  pointer-events: none;
		  opacity: 0;
		  animation: hau-float 2.6s ease-out forwards;
		  z-index: 2; /* nad psem */
		}
		
		@keyframes hau-float {
		  0%   { opacity: 1; transform: translate(-50%, -50%) translateY(0); }
		  70%  { opacity: 0.7; }
		  100% { opacity: 0; transform: translate(-50%, -50%) translateY(-35px); }
		}
    
  </style>
</head>
<body>
  <div class="card">
    <div class="card-inner">
			<div class="art" aria-hidden="true">
			  <img class="card-image" src="card.png" alt="" />
			  <div id="dog" class="dog"></div>
			</div>

      <div class="content">
        <h2>WesoÅ‚ych ÅšwiÄ…t</h2>
        <h1>Moje Kochane Dzieci!!!</h1>
        <p class="highlight">
        	Ogromnie siÄ™ cieszÄ™, Å¼e mogÄ™ Was spotkaÄ‡ po raz kolejny!!!
          Niech te Å›wiÄ™ta przyniosÄ… Wam duÅ¼o radoÅ›ci
          i dobrych chwil.
        </p>
        <p>
          Å»yczÄ™ Wam zdrowia, odpoczynku od codziennego poÅ›piechu, chwil peÅ‚nych
          Å›miechu oraz odrobiny magii, ktÃ³ra zostanie z Wami jeszcze duÅ¼o dÅ‚uÅ¼ej niÅ¼ tylko
          w te Å›wiÄ…teczne dni.
        </p>
        <p>
          Niech w nadchodzÄ…cym Nowym Roku ta tutaj Luna czuwa nad Wami, aby uÅ›miech nigdy Was nie opuszczaÅ‚, a wiÄ™ksze i mniejsze sukcesy towarzyszyÅ‚y Wam kaÅ¼dego dnia.
        </p>

        <div class="footer-note">
          Z najlepszymi Å¼yczeniami, 
          <br><span>Åšw. TatoÅ‚aj</span>
        </div>
        
        <p class="highlight">
        	P.S. ZapomniaÅ‚bym o prezentach ðŸ˜±ðŸ˜¨
        	<br>
        	W sprawie szczegÃ³Å‚Ã³w napiszcie do mnie na telegramie. ZnajdÅºcie mnie jako: <span class="accent">@santa_bialystok_bot</span>
        </p>
      </div>
    </div>
  </div>

  <script>
    // Prosty efekt spadajÄ…cego Å›niegu oparty na elementach DOM
    (function () {
      const SNOWFLAKE_COUNT = 80;
      const MIN_DURATION = 10; // sekundy
      const MAX_DURATION = 22;

      function random(min, max) {
        return Math.random() * (max - min) + min;
      }

      function createSnowflake() {
        const flake = document.createElement("span");
        flake.className = "snowflake";

        // RÃ³Å¼ne "ksztaÅ‚ty" pÅ‚atkÃ³w â€“ moÅ¼na dopisaÄ‡ wiÄ™cej znakÃ³w
        const glyphs = ["â„", "âœ»", "âœ¼", "âœ¥"];
        flake.textContent =
          glyphs[Math.floor(Math.random() * glyphs.length)];

        // Losowa pozycja startowa na osi X
        flake.style.left = random(0, 100) + "vw";

        // Rozmiar pÅ‚atka
        const size = random(0.6, 1.3);
        flake.style.fontSize = size + "rem";

        // Czas trwania animacji (wolniejsze i szybsze pÅ‚atki)
        const duration = random(MIN_DURATION, MAX_DURATION);
        flake.style.animationDuration = duration + "s";

        // Negatywne opÃ³Åºnienie, Å¼eby Å›nieg "juÅ¼ padaÅ‚" po zaÅ‚adowaniu
        const delay = random(-MAX_DURATION, 0);
        flake.style.animationDelay = delay + "s";

        // Subtelna zmiana przezroczystoÅ›ci
        flake.style.opacity = random(0.4, 0.9).toString();

        document.body.appendChild(flake);

        // Po zakoÅ„czeniu "peÅ‚nego" cyklu usuwamy pÅ‚atek i tworzymy nowy,
        // Å¼eby nie zaÅ›miecaÄ‡ DOM:
        flake.addEventListener("animationiteration", () => {
          // przestawiamy parametry zamiast usuwaÄ‡
          flake.style.left = random(0, 100) + "vw";
          flake.style.animationDuration =
            random(MIN_DURATION, MAX_DURATION) + "s";
          flake.style.opacity = random(0.4, 0.9).toString();
        });
      }

      for (let i = 0; i < SNOWFLAKE_COUNT; i++) {
        createSnowflake();
      }
    })();
  </script>
  
	<script>
	(() => {
	  const dog = document.getElementById("dog");
	  if (!dog) return;
	
	  // parametry klatek
	  const FRAME_W = 89;
	  const TOTAL_FRAMES = 42;
	  const FRAME_TIME = 50; // ms
	
	  // zakresy (1-based)
	  const TAIL_START = 36, TAIL_END = 42;   // "idle" ogon miÄ™dzy obrotami
	
	  // Segmenty 1â€“35
	  const TURN_RIGHT_START = 1,  TURN_RIGHT_END = 7;     // obrÃ³t w prawo
	  const TAIL_RIGHT_START = 8,  TAIL_RIGHT_END = 13;    // ogon patrzÄ…c w prawo (powtÃ³rki)
	  const TURN_LEFT_A_START = 14, TURN_LEFT_A_END = 18;  // start obrotu w lewo
	  const BARK_START = 19, BARK_END = 25;                // szczekniÄ™cie (losowo)
	  const TURN_LEFT_B_START = 26, TURN_LEFT_B_END = 35;  // koniec obrotu w lewo
	
	  function showFrame(frame1Based) {
	    const idx = frame1Based - 1;
	    if (idx < 0 || idx >= TOTAL_FRAMES) return;
	    const x = -idx * FRAME_W;
	    dog.style.backgroundPosition = `${x}px 0px`;
	  }
	
	  function randInt(min, max) {
	    return Math.floor(Math.random() * (max - min + 1)) + min;
	  }
	
	  function sleep(ms) {
	    return new Promise(r => setTimeout(r, ms));
	  }
	
	  // --- HAU ---
	  const HAU_X = 40;
	  const HAU_Y = -5;
	
	  function spawnHau() {
	    const el = document.createElement("div");
	    el.className = "hau";
	    el.textContent = "Hau";
	
	    const parent = dog.parentElement; // .art
	    parent.appendChild(el);
	
	    const dogLeft = dog.offsetLeft;
	    const dogTop  = dog.offsetTop;
	
	    el.style.left = (dogLeft + HAU_X) + "px";
	    el.style.top  = (dogTop + HAU_Y) + "px";
	
	    el.addEventListener("animationend", () => el.remove(), { once: true });
	  }
	
	  async function playRange(start, end) {
	    for (let f = start; f <= end; f++) {
	      showFrame(f);
	      await sleep(FRAME_TIME);
	    }
	  }
	
	  async function playHeadSequence() {
	    // 1â€“6: obrÃ³t w prawo
	    await playRange(TURN_RIGHT_START, TURN_RIGHT_END);
	
	    // 7â€“14: ogon patrzÄ…c w prawo, 2â€“5 powtÃ³rzeÅ„
	    const rightTailRepeats = randInt(3, 6);
	    for (let i = 0; i < rightTailRepeats; i++) {
	      await playRange(TAIL_RIGHT_START, TAIL_RIGHT_END);
	    }
	
	    // 15â€“18: start obrotu w lewo
	    await playRange(TURN_LEFT_A_START, TURN_LEFT_A_END);
	
	    // szczekniÄ™cie 19â€“25 tylko w 25% przypadkÃ³w
	    const doBark = Math.random() < 0.5;
	
	    if (doBark) {
	      // pokaÅ¼ "Hau" raz na epizod (na poczÄ…tku szczekniÄ™cia)
	      spawnHau();
	      await playRange(BARK_START, BARK_END);
	    }
	
	    // 26â€“35: dokoÅ„czenie obrotu w lewo
	    await playRange(TURN_LEFT_B_START, TURN_LEFT_B_END);
	  }
	
	  async function animationLoop() {
	    showFrame(TAIL_START);
	
	    while (true) {
	      // 36â€“42: ogon 8â€“16 razy miÄ™dzy obrotami
	      const repeats = randInt(8, 16);
	      for (let i = 0; i < repeats; i++) {
	        await playRange(TAIL_START, TAIL_END);
	      }
	
	      // sekwencja gÅ‚owy 1â€“35 z powtÃ³rkami 7â€“14 i losowym szczekniÄ™ciem
	      await playHeadSequence();
	    }
	  }
	
	  animationLoop();
	})();
	</script>

</body>
</html>
